<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Mini planificateur d'itinéraires</title>
</head>
<body>

<h2>Planificateur d'itinéraires</h2>

<label for="start">Départ :</label>
<input type="text" id="start" placeholder="Ex: Stepford Victoria" />

<label for="end">Arrivée :</label>
<input type="text" id="end" placeholder="Ex: Leighton City" />

<button id="searchBtn">Chercher itinéraires directs</button>

<h3>Résultats :</h3>
<ul id="results"></ul>

<script>
// Ici, tu peux charger ton fichier JSON (par exemple avec fetch)
// Ou copier directement la variable `routes` contenant toutes tes lignes ici.

// Exemple minimal avec une variable routes (à remplacer par ton JSON complet)
const routes = [
  {
    routeId: "R045",
    type: "Connect",
    stops: ["Stepford Victoria", "Stepford Central", "Stepford East", "Saint helen's Bridge", "Bodin", "Coxly", "Benton", "Hampton Hargate", "Upper Staploe", "Water Newton", "Rocket Parade", "Leighton Stepford Road", "Leighton City"]
  },
  {
    routeId: "R046",
    type: "Connect",
    stops: ["Stepford Victoria", "City Hospital", "Stepford Central", "Stepford East", "St Helens Bridge", "Bodin", "Coxly", "Benton", "Benton Bridge", "Stepford Airport Parkway", "Stepford Airport Central", "Airport Terminal 2"]
  }
  // Ajoute toutes tes autres routes ici...
];

// Fonction pour trouver les routes directes
function findDirectRoutes(routes, fromStop, toStop) {
  return routes.filter(route => {
    const fromIndex = route.stops.indexOf(fromStop);
    const toIndex = route.stops.indexOf(toStop);
    return fromIndex !== -1 && toIndex !== -1 && fromIndex < toIndex;
  });
}

document.getElementById("searchBtn").addEventListener("click", () => {
  const fromStop = document.getElementById("start").value.trim();
  const toStop = document.getElementById("end").value.trim();
  const resultsEl = document.getElementById("results");
  resultsEl.innerHTML = "";

  if (!fromStop || !toStop) {
    resultsEl.innerHTML = "<li>Merci de saisir un départ et une arrivée.</li>";
    return;
  }

  const foundRoutes = findDirectRoutes(routes, fromStop, toStop);

  if (foundRoutes.length === 0) {
    resultsEl.innerHTML = "<li>Aucun itinéraire direct trouvé.</li>";
  } else {
    foundRoutes.forEach(route => {
      const li = document.createElement("li");
      li.textContent = `${route.routeId} (${route.type}) : ${route.stops.join(" → ")}`;
      resultsEl.appendChild(li);
    });
  }
});
</script>

</body>
</html>
