<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stepford Route Finder</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f9f9f9;
      color: #333;
      padding: 20px;
    }
    h1 {
      color: #C71585;
    }
    label, select, button {
      font-size: 16px;
      margin: 10px 0;
    }
    select, button {
      padding: 8px;
    }
    .route {
      border: 2px solid #C71585;
      background-color: #fff0f5;
      padding: 15px;
      margin-top: 20px;
      border-radius: 10px;
    }
    .stop-check {
      font-size: 14px;
      margin-left: 10px;
      color: #888;
    }
  </style>
</head>
<body>
  <h1>Itinéraire Stepford Express</h1>
  <label for="from">Départ :</label>
  <select id="from"></select>
  <br>
  <label for="to">Arrivée :</label>
  <select id="to"></select>
  <br>
  <button onclick="findRoute()">Trouver l'itinéraire</button>

  <div id="result" class="route"></div>

  <script>
    const stations = [
      "Stepford Central", "St Helens Bridge", "Benton", "Elsemere Junction", "Morganstown",
      "Leighton Stepford Road", "Leighton City", "Edgemead", "Westercoast", "Westwyvern",
      "Northshore", "Llyn-by-the-Sea", "Eden Quay", "Newry", "Newry Harbour", "Rayleigh Bay"
    ];

    const lines = {
      stepford_express_main: [
        "Stepford Central", "St Helens Bridge", "Benton", "Leighton Stepford Road", "Leighton City",
        "Edgemead", "Westercoast", "Westwyvern", "Northshore", "Llyn-by-the-Sea"
      ],
      stepford_express_morganstown: [
        "Stepford Central", "St Helens Bridge", "Elsemere Junction", "Morganstown",
        "Leighton Stepford Road", "Leighton City", "Edgemead", "Westercoast",
        "Westwyvern", "Northshore", "Llyn-by-the-Sea"
      ],
      stepford_express_rayleigh_bay: [
        "Llyn-by-the-Sea", "Northshore", "Westwyvern", "Edgemead", "Rayleigh Bay"
      ],
      stepford_express_newry1: [
        "Leighton City", "Leighton Stepford Road", "Benton", "Eden Quay", "Newry"
      ],
      stepford_express_newry2: [
        "Llyn-by-the-Sea", "Westwyvern", "Leighton City", "Leighton Stepford Road", "Benton", "Newry", "Newry Harbour"
      ],
      stepford_express_newry3: [
        "Llyn-by-the-Sea", "Northshore", "Westercoast", "Leighton City",
        "Leighton Stepford Road", "Morganstown", "Benton", "Newry"
      ]
    };

    const fromSelect = document.getElementById("from");
    const toSelect = document.getElementById("to");
    stations.forEach(station => {
      const option1 = document.createElement("option");
      option1.value = option1.textContent = station;
      fromSelect.appendChild(option1);
      const option2 = document.createElement("option");
      option2.value = option2.textContent = station;
      toSelect.appendChild(option2);
    });

    function findRoute() {
      const from = fromSelect.value;
      const to = toSelect.value;
      let found = false;
      let output = "";

      for (const [lineName, stops] of Object.entries(lines)) {
        const fromIndex = stops.indexOf(from);
        const toIndex = stops.indexOf(to);

        if (fromIndex !== -1 && toIndex !== -1 && fromIndex !== toIndex) {
          found = true;
          const slice = fromIndex < toIndex ?
            stops.slice(fromIndex, toIndex + 1) :
            stops.slice(toIndex, fromIndex + 1).reverse();

          output += `<strong>Stepford Express (${lineName.replace('stepford_express_', '').replaceAll('_', ' ')})</strong><br>`;
          slice.forEach(station => {
            output += `→ ${station} <span class='stop-check'>✅ Vérifiez si le train s’arrête à ${station}</span><br>`;
          });
          break;
        }
      }

      if (!found) {
        output = "Aucune liaison directe trouvée avec Stepford Express. Veuillez essayer d'autres gares ou prévoir une correspondance.";
      }

      document.getElementById("result").innerHTML = output;
    }
  </script>
</body>
</html>
