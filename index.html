<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Calculateur d'itinéraire Stepford</title>
<style>
  body { font-family: Arial, sans-serif; background: #f0f0f0; margin: 20px; }
  h1 { color: #333; }
  label { font-weight: bold; }
  select { padding: 5px; margin: 5px 10px 20px 0; }
  button { padding: 6px 12px; cursor: pointer; }
  .result { margin-top: 20px; background: white; padding: 15px; border-radius: 8px; box-shadow: 0 0 8px rgba(0,0,0,0.1);}
  .itineraire { margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #ddd; }
  .gare { font-weight: bold; font-size: 1.1em; }
  .gare.intermediaire { font-weight: normal; font-style: italic; font-size: 0.9em; color: #555; }
  .correspondance { color: #c44; font-weight: bold; margin: 5px 0; }
  .express { color: #9b59b6; } /* violet/rose */
  .airlink { color: #d35400; } /* orange */
  .ligne-name { font-weight: bold; margin-bottom: 6px; }
</style>
</head>
<body>
<h1>Calculateur d'itinéraire Stepford</h1>
<label for="depart">Gare de départ :</label>
<select id="depart"></select>

<label for="arrivee">Gare d'arrivée :</label>
<select id="arrivee"></select>

<button id="calculer">Calculer l'itinéraire</button>

<div id="resultats" class="result"></div>

<script>
// Liste complète des gares (sans doublons)
const gares = [
  "Stepford Central", "Benton", "St Helens Bridge", "Stepford East", "Leighton City",
  "Bodin", "Leighton Stepford Road", "Edgemead", "Coxly", "Westwyvern", "Llyn-by-the-Sea",
  "Elsemere Junction", "Four Ways", "Stepford Airport Central", "Stepford High Street",
  "Benton Bridge", "Beechley", "Morganstown", "Westercoast", "Northshore", "Stepford Victoria",
  "Water Newton", "Angel Pass", "City Hospital", "Elsemere Pond", "Hampton Hargate",
  "Millcastle", "New Harrow", "Airport Terminal 2", "Newry", "Stepford Airport Parkway",
  "Faymere", "Port Benton", "Berrily", "Eden Quay", "Financial Quarter", "Willowfield",
  "Cambridge Street Parkway", "Rocket Parade", "Faraday Road", "West Benton", "Rayleigh Bay",
  "Stepford United Football Club", "Aslockby", "Barton", "Carnalea Bridge", "Coxly Newtown",
  "Leighton West", "Millcastle Racecourse", "Morganstown Docks", "Upper Staploe",
  "Airport Terminal 1", "Airport Terminal 3", "Airport West", "Hemdon Park", "Newry Harbour",
  "Starryloch", "Ashlan Park", "Beaulieu Park", "Connolly", "East Berrily", "Farleigh",
  "Whitefield", "Whitefield Lido", "Woodhead Lane", "Esterfield", "Greenslade", "Houghton Rake",
  "James Street", "Whitney Green", "Rosedale Village", "Airport Central", "Terminal 1",
  "Terminal 2", "Terminal 3", "Airport Parkway", "Leighton Stepford Road", "Stepford East"
];

// Lignes Stepford Express (simplifié avec temps en minutes)
const expressLines = [
  {
    name: "Stepford Express Lyn via Benton",
    colorClass: "express",
    stops: [
      { station: "Stepford Central", timeToNext: 3 },
      { station: "St Helens Bridge", timeToNext: 3 },
      { station: "Benton", timeToNext: 4 },
      { station: "Leighton Stepford Road", timeToNext: 4 },
      { station: "Leighton City", timeToNext: 2 },
      { station: "Edgemead", timeToNext: 2 },
      { station: "Westercoast", timeToNext: 3 },
      { station: "Westwyvern", timeToNext: 4 },
      { station: "Northshore", timeToNext: 4 },
      { station: "Llyn-by-the-Sea", timeToNext: 0 }
    ]
  },
  {
    name: "Stepford Express Lyn via Morganstown",
    colorClass: "express",
    stops: [
      { station: "Stepford Central", timeToNext: 3 },
      { station: "St Helens Bridge", timeToNext: 3 },
      { station: "Elsemere Junction", timeToNext: 3 },
      { station: "Morganstown", timeToNext: 4 },
      { station: "Leighton Stepford Road", timeToNext: 4 },
      { station: "Leighton City", timeToNext: 2 },
      { station: "Edgemead", timeToNext: 3 },
      { station: "Westercoast", timeToNext: 4 },
      { station: "Westwyvern", timeToNext: 4 },
      { station: "Northshore", timeToNext: 4 },
      { station: "Llyn-by-the-Sea", timeToNext: 0 }
    ]
  },
  {
    name: "Stepford Express Rayleigh Bay",
    colorClass: "express",
    stops: [
      { station: "Llyn-by-the-Sea", timeToNext: 4 },
      { station: "Northshore", timeToNext: 4 },
      { station: "Westwyvern", timeToNext: 3 },
      { station: "Edgemead", timeToNext: 4 },
      { station: "Rayleigh Bay", timeToNext: 0 }
    ]
  },
  {
    name: "Stepford Express Newry 1",
    colorClass: "express",
    stops: [
      { station: "Leighton City", timeToNext: 4 },
      { station: "Leighton Stepford Road", timeToNext: 4 },
      { station: "Benton", timeToNext: 3 },
      { station: "Eden Quay", timeToNext: 3 },
      { station: "Newry", timeToNext: 0 }
    ]
  },
  {
    name: "Stepford Express Newry 2",
    colorClass: "express",
    stops: [
      { station: "Llyn-by-the-Sea", timeToNext: 4 },
      { station: "Northshore", timeToNext: 4 },
      { station: "Westwyvern", timeToNext: 6 },
      { station: "Leighton City", timeToNext: 4 },
      { station: "Leighton Stepford Road", timeToNext: 4 },
      { station: "Benton", timeToNext: 4 },
      { station: "Newry", timeToNext: 0 },
      { station: "Newry Harbour", timeToNext: 0 }
    ]
  },
  {
    name: "Stepford Express Newry 3",
    colorClass: "express",
    stops: [
      { station: "Llyn-by-the-Sea", timeToNext: 4 },
      { station: "Northshore", timeToNext: 4 },
      { station: "Westercoast", timeToNext: 6 },
      { station: "Leighton City", timeToNext: 3 },
      { station: "Leighton Stepford Road", timeToNext: 4 },
      { station: "Morganstown", timeToNext: 3 },
      { station: "Benton", timeToNext: 3 },
      { station: "Newry", timeToNext: 0 }
    ]
  }
];

// Lignes Airlink (avec temps estimé 3 min si non précisé)
const airlinkLines = [
  {
    name: "Airlink 1",
    colorClass: "airlink",
    stops: [
      { station
